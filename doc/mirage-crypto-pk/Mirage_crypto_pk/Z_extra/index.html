<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Z_extra (mirage-crypto-pk.Mirage_crypto_pk.Z_extra)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">mirage-crypto-pk</a> &#x00BB; <a href="../index.html">Mirage_crypto_pk</a> &#x00BB; Z_extra</nav><header class="odoc-preamble"><h1>Module <code><span>Mirage_crypto_pk.Z_extra</span></code></h1><p><b>Z</b> Convert Z to big endian Cstruct.t and generate random Z values.</p></header><nav class="odoc-toc"><ul><li><a href="#conversion-to-and-from-cstruct.t">Conversion to and from Cstruct.t</a></li><li><a href="#random-generation">Random generation</a></li></ul></nav><div class="odoc-content"><h2 id="conversion-to-and-from-cstruct.t"><a href="#conversion-to-and-from-cstruct.t" class="anchor"></a>Conversion to and from Cstruct.t</h2><div class="odoc-spec"><div class="spec value anchored" id="val-of_cstruct_be"><a href="#val-of_cstruct_be" class="anchor"></a><code><span><span class="keyword">val</span> of_cstruct_be : <span><span class="optlabel">?bits</span>:<a href="../index.html#type-bits">bits</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Cstruct</span>.t <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Z</span>.t</span></code></div><div class="spec-doc"><p><code>of_cstruct_be ~bits cs</code> interprets the bit pattern of <code>cs</code> as a <span class="xref-unresolved" title="Z.t"><code>t</code></span> in big-endian.</p><p>If <code>~bits</code> is not given, the operation considers the entire <code>cs</code>, otherwise the initial <code>min ~bits (bit-length cs)</code> bits of <code>cs</code>.</p><p>Assuming <code>n</code> is the number of bits to extract, the <code>n</code>-bit in <code>cs</code> is always the least significant bit of the result. Therefore:</p><ul><li>if the bit size <code>k</code> of <code>t</code> is larger than <code>n</code>, <code>k - n</code> most significant bits in the result are <code>0</code>; and</li><li>if <code>k</code> is smaller than <code>n</code>, the result contains <code>k</code> last of the <code>n</code> first bits of <code>cs</code>.</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-to_cstruct_be"><a href="#val-to_cstruct_be" class="anchor"></a><code><span><span class="keyword">val</span> to_cstruct_be : <span><span class="optlabel">?size</span>:int <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Z</span>.t <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Cstruct</span>.t</span></code></div><div class="spec-doc"><p><code>to_cstruct_be ~size t</code> is the big-endian representation of <code>t</code>.</p><p>If <code>~size</code> is not given, it defaults to the minimal number of bytes needed to represent <code>t</code>, which is <code>bits t / 8</code> rounded up.</p><p>The least-significant bit of <code>t</code> is always the last bit in the result. If the size is larger than needed, the output is padded with zero bits. If it is smaller, the high bits in <code>t</code> are dropped.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-into_cstruct_be"><a href="#val-into_cstruct_be" class="anchor"></a><code><span><span class="keyword">val</span> into_cstruct_be : <span><span class="xref-unresolved">Z</span>.t <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Cstruct</span>.t <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>into_cstruct_be t cs</code> writes the big-endian representation of <code>t</code> into <code>cs</code>. It behaves like <a href="#val-to_cstruct_be" title="to_cstruct_be"><code>to_cstruct_be</code></a>, with <code>~size</code> spanning the entire <code>cs</code>.</p></div></div><h2 id="random-generation"><a href="#random-generation" class="anchor"></a>Random generation</h2><div class="odoc-spec"><div class="spec value anchored" id="val-gen"><a href="#val-gen" class="anchor"></a><code><span><span class="keyword">val</span> gen : <span><span class="optlabel">?g</span>:<a href="../../../mirage-crypto-rng/Mirage_crypto_rng/index.html#type-g">Mirage_crypto_rng.g</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Z</span>.t <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Z</span>.t</span></code></div><div class="spec-doc"><p><code>gen ~g n</code> picks a value in the interval <code>[0, n - 1]</code> uniformly at random.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-gen_r"><a href="#val-gen_r" class="anchor"></a><code><span><span class="keyword">val</span> gen_r : <span><span class="optlabel">?g</span>:<a href="../../../mirage-crypto-rng/Mirage_crypto_rng/index.html#type-g">Mirage_crypto_rng.g</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Z</span>.t <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Z</span>.t <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Z</span>.t</span></code></div><div class="spec-doc"><p><code>gen_r ~g low high</code> picks a value from the interval <code>[low, high - 1]</code> uniformly at random.</p></div></div></div></body></html>
